{% extends 'ferreteria/index.html' %}

{% block content %}
<div class="container my-5">
    <h2 class="mb-4">Buscar Producto</h2>
    <form method="get" class="mb-4">
        <input type="text" name="q" class="form-control mb-2" placeholder="Nombre del producto" value="{{ request.GET.q }}">
        <button type="submit" class="btn btn-primary">Buscar</button>
    </form>

    {% if productos %}
        <h5>Resultados:</h5>
        <ul class="list-group">
            {% for producto in productos %}
            <li class="list-group-item">
                {{ producto.nombre }} - ${{ producto.precio }} ({{ producto.categoria.nombre }})
            </li>
            {% endfor %}
        </ul>
    {% elif request.GET.q %}
        <p>No se encontraron productos con "{{ request.GET.q }}".</p>
    {% endif %}
</div>
{% endblock %}
